<!DOCTYPE html>
<html>
	<head>

        <script>

			// HEIGHTFIX

            let vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', `${vh}px`);

            window.addEventListener('resize', () => {
                let vh = window.innerHeight * 0.01;
                document.documentElement.style.setProperty('--vh', `${vh}px`);
            });
        </script>

		<script>
			function pausevideos() {
				var frames = document.getElementsByTagName("iframe")

				for (let i = 0; i < frames.length; i++)
				{
					frames[i].contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}', '*')
				}
			}
		</script>

		<script>

			// CUSTOM SCROLLBAR
			
			var timeoutid;

			function hidescrollbar() {
				document.documentElement.style.setProperty('--scrollbar-color', 'transparent');
			}
			
			document.getElementById("content").addEventListener("scroll", () => {
				document.documentElement.style.setProperty('--scrollbar-color', getComputedStyle(document.documentElement).getPropertyValue('--default-scrollbar-color'));
				clearTimeout(timeoutid)
				timeoutid = setTimeout(hidescrollbar, 3000);
			});

		</script>

		<script>

			// DROPMENU

			var menuopen = false;
			var windowwidth = $(window).width();

            window.addEventListener("resize", (event) => {
				
				if ($(window).width()!=windowwidth) {

					windowwidth = $(window).width();

					closemenu()

					if ($(window).width() < 800 && !menuopen) {
						document.getElementById("openmenu").style.display = "inline";
					}
					else {
						document.getElementById("openmenu").style.display = "none";
					}
				}
            });

			function openmenu(menu, anchor) {
				hidedropmenus();
				document.getElementById(menu).style.height = "fit-content";
				document.getElementById(anchor).style.visibility = "visible";

				if ($(window).width() > 800) {
					document.getElementById(menu).style.width = document.getElementById("navigation").offsetWidth + 201 + 'px'; // og value 30
					document.getElementById(menu).style.border = "2px solid lightgrey";
				}
				else {
					document.getElementById(menu).style.width = "100vw";
					document.getElementById("headerlogo").style.visibility = "hidden";
					document.getElementById("openmenu").style.display = "none";
					document.getElementById("closemenu").style.display = "inline";
					document.documentElement.style.setProperty('--header-divider', `block`);
				}

				menuopen = true
			}

			document.getElementById("aboinput").addEventListener('focus', (event) => {
				document.getElementById("aboinfo").style.display = "block"
			});


			function safeclosemenu() {
				if(document.getElementById("aboinput") !== document.activeElement && document.getElementById("abocheckbox") !== document.activeElement && document.getElementById("abobutton") !== document.activeElement) {
					closemenu()
					document.getElementById("aboinfo").style.display = "none"
				}
			}

			function closemenu() {

				hidedropmenus();

				if ($(window).width() < 800) {
					document.getElementById("headerlogo").style.visibility = "visible";
					document.getElementById("closemenu").style.display = "none";
					document.getElementById("openmenu").style.display = "inline";
				}

				// hideissues()
				menuopen = false
			}


			function hidedropmenus() {
				var dropmenus = document.getElementsByClassName("dropmenu")

				for (let i = 0; i < dropmenus.length; i++)
				{
					dropmenus[i].style.width = "0vw";
					dropmenus[i].style.border = "none transparent";
				}

				document.documentElement.style.setProperty('--header-divider', `none`); /*still necessary?*/
			}

			// function showissues() {
			// 	document.getElementById("showissues").style.display = "none";
			// 	document.getElementById("hideissues").style.display = "inline";
			// 	document.getElementById("issue-list").style.display = "block";
			// }

			// function hideissues() {
			// 	document.getElementById("showissues").style.display = "inline";
			// 	document.getElementById("hideissues").style.display = "none";
			// 	document.getElementById("issue-list").style.display = "none";
			// }

			
		</script>

		<script>

			// NAVIGATION HIGHLIGHT

			$(function(){
				highlight("", "dropanchori");
				highlight("/", "dropanchori");
				highlight("/issue-i", "dropanchori");
				highlight("/issue-i", "info-issue-i");
				highlight("/special-issues", "dropanchors");
				highlight("/kanon", "dropanchork");

				highlight("", "descriptioni");
				highlight("/", "descriptioni");
				highlight("/issue-i", "descriptioni");
				highlight("/issue-i", "descriptionisi");
				highlight("/special-issues", "descriptions");
				highlight("/kanon", "descriptionk");

				highlight("/deabonnieren", "etc");
				highlight("/deabonnieren", "descriptiond");
				
				highlight("/impressum", "etc");
				highlight("/impressum", "descriptionim");

				highlight("/datenschutz", "etc");
				highlight("/datenschutz", "descriptionda");
			});

			function highlight(url, element) {
				if (window.location.href.toLowerCase() == ("https://www.GEFAENGNISHEFTE.org" + url).toLowerCase()) {
					document.getElementById(element).style.fontWeight = "700";
				}
			}
		</script>

		<script>

			function makeid(length) {
                var result           = '';
                var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
                var charactersLength = characters.length;
                for ( var i = 0; i < length; i++ ) {
                    result += characters.charAt(Math.floor(Math.random() * charactersLength));
                }

                return result;
            }

			// ABONNIEREN
	
			document.getElementById("abonnieren").addEventListener('submit', function(event){

				event.preventDefault()

				$.ajax({
					method: 'POST',
					url: 'https://formsubmit.co/ajax/6d2bd15bcc3410a47e44b78943d390d0',
					dataType: 'json',
					accepts: 'application/json',
					data: $(event.target).serialize() + "&Code=" + makeid(40)
					,
					success: (data) => console.log(data),
					error: (err) => alert(err)
				});

				document.getElementById("abonnierenbutton").textContent = 'Abonniert!';
				document.getElementById("abonnierenbutton").disabled = true;
				document.getElementById("aboinfo").style.display = "none";
			})

			document.getElementById("abonnieren").addEventListener('input', function(event){
				document.getElementById("abonnierenbutton").textContent = 'Abonnieren';
				document.getElementById("abonnierenbutton").disabled = false;
			});

		</script>



		<style>

			/* GENERAL */

			#header-wrap {
				display: flex;
				justify-content: space-between;
				align-items: center;
				padding:0px;
				margin:0px;
				font-size: 13pt;
			}

			#navigation {
				display: flex;
				gap: 30px;
				padding:15px 20px 15px 10px;
			}

			a:active, a:visited, a:link {
				color: white;
				transition: 0.1s;
			}

			a:hover {
				color: lightgrey;
				transition: 0.1s;
			}


			/* DROPMENU */

			.dropmenu {
				overflow:hidden;
				white-space: nowrap;
				position:absolute;
				right:0;
				top:0;
				width: 0vw;
				background-color: var(--header-color);
				z-index:11;
			}

			.dropanchor {
				position: relative;
				z-index:12;
			}

			.menu-spacer {
				text-align: right;
				visibility: hidden;
				font-size: 13pt;
				padding:14px 20px 14px 20px; /* reduced by 1 top and bottom for border */
				margin: 0px;
				-webkit-touch-callout: none;
				-webkit-user-select: none;
				-khtml-user-select: none;
				-moz-user-select: none;
				-ms-user-select: none;
				user-select: none;
			}

			#showissues:hover, #hideissues:hover {
				color: lightgray;
			}

			#showissues, #hideissues {
				cursor: pointer;
			}


			/* EXPANDED */

			#closemenu, #openmenu {
				cursor: pointer;
			}

			#closemenu {
				display: none;
				width:100vw;
			}

			.description {
				font-size: 11pt;
			}

			.descsmall {
				display:none;
			}

			@media screen and (max-width: 400px) {
				.desclarge {
					display:none;
				}

				.descsmall {
					display:inline;
				}
			}

			#hideissues {
				display: none;
			}

			#issue-list {
				display: none;
				margin-top:5px;
				margin-bottom:30px;
			}

			#footer-wrap {
				font-size: 11pt;
				line-height: 1.7;
				margin-bottom:40px;
				text-align: left;
				white-space: normal;
			}

			
			/* INFO */

			.info {
				padding: 25px 40px 25px 40px;
				line-height: 1.7;
				font-size: 13pt;
			}

			#infos, #infok {
				text-align: left;
			}

			#infoi {
				font-size: 13pt;
			}

			#infom {
				padding-bottom:40px;
			}

			#infoe {
				margin-top: 0px;
				padding-top: 0px;
			}


			/* TEXT ALIGN LAST */

			.spacedissues, .spacedtitles, #issue-list>* {
				width:100%;
				display:flex;
				justify-content: space-between;
				align-items: center;
			}

			
			/* FORM */

			#etc {
				cursor: default;
			}

			#openmenu {
				cursor: pointer;
			}

			/* REACTIVE */

			@media screen and (min-width: 800px) {

				#openmenu {
					display: none;
				}

				#infoe {
					display: none;
				}

				#menuspacer {
					display:none;
					background-color: lightgray;
				}
			}

			@media screen and (max-width: 800px) {
				.hmenu, #etc {
					display: none;
				}
			}

			@media screen and (width: 800px) {
				.hmenu, #etc {
					display: block;
				}
			}

			#abocheckbox {
				display:inline;
			}

			#aboinfo {
				display:none;
				width:400px;
				font-size: 9pt;
				line-height: 1.3 !important;
				text-align: left;
				white-space: pre-wrap;
				order:-1;
			}

			#abocheckbox {
				position:relative;
				width: 15px;
				height:15px;
				margin:0;
				margin-top:20px;
			}

			.menu-inside {
				border-top: 3px solid lightgrey;
			}

			@media screen and (max-width: 800px) {
				.menu-inside {
					border-bottom: 3px solid lightgrey;
				}
			}

		</style>
	</head>

	<body>
		<div id="header-wrap">

			<div id="headerlogo" class="logo"><a href="https://www.GEFAENGNISHEFTE.org">GEFÄNGNISHEFTE</a></div> 

			<nav id="navigation" onmouseleave="safeclosemenu()">

				<!-- ISSUES -->

				<div class="hmenu" onmouseenter="openmenu('dropmenui', 'dropanchori')">
					<span class="dropanchor" id="dropanchori">
						<a href="https://www.GEFAENGNISHEFTE.org">ISSUES</a>
					</span>

					<div class="dropmenu" id="dropmenui" >
						<div class="menu-spacer">X</div>
						<!-- <hr class="mid-divider"> -->
						<div class="menu-inside">
						<div class="info" id="infoi">
							<a id="info-issue-i" class="spacedissues" href="https://www.GEFAENGNISHEFTE.org/issue-i"><span>ISSUE I</span> <span>ALTERNATIVE UTOPIEN</span></a>
							<a id="info-issue-ii" class="spacedissues" href="https://www.GEFAENGNISHEFTE.org/issue-i"><span>ISSUE II</span> <span>REFORM ODER REVOLUTION</span></a>
							<a id="info-issue-iii" class="spacedissues" href="https://www.GEFAENGNISHEFTE.org/issue-i"><span>ISSUE II</span> <span>IST POPULISMUS GUT?</span></a>
						</div></div>
						<!-- <hr class="bottom-divider"> -->
					</div>
				</div>

				<!-- SPECIAL ISSUES -->
				
				<!-- <div class="hmenu" onmouseenter="openmenu('dropmenus', 'dropanchors')">
					<span class="dropanchor" id="dropanchors">
						<a href="https://www.GEFAENGNISHEFTE.org/special-issues">SPECIAL ISSUES</a>
					</span>

					<div class="dropmenu" id="dropmenus">
						<div class="menu-spacer">X</div>
						<hr class="mid-divider">
						<div class="menu-inside">
						<div class="info" id="infos">
							<a href="https://www.GEFAENGNISHEFTE.org/special-issues">Projekte von Freund*innen</a>
						</div></div>
						<hr class="bottom-divider">
					</div>
				</div> -->

				<!-- KANON -->

				<div class="hmenu" onmouseenter="openmenu('dropmenuk', 'dropanchork')">
					<span class="dropanchor" id="dropanchork">
						<a href="https://www.GEFAENGNISHEFTE.org/kanon">KANON</a>
					</span>

					<div class="dropmenu" id="dropmenuk">
						<div class="menu-spacer">X</div>
						<!-- <hr class="mid-divider"> -->
						<div class="menu-inside">
						<div class="info" id="infok">
							<a href="https://www.GEFAENGNISHEFTE.org/kanon">Eine Zusammenstellung sehenswerter Inhalte</a>
						</div></div>
						<!-- <hr class="bottom-divider"> -->
					</div>
				</div>

				<!-- MENU/ETC -->

				<div onmouseenter="openmenu('dropmenum', 'dropanchorm')">
					<span class="dropanchor" id="dropanchorm">
						<span class="label" id="etc" onclick="openmenu('dropmenum', 'dropanchorm')">ETC</span>
						<span class="label" id="openmenu" onclick="openmenu('dropmenum', 'dropanchorm')">MENÜ</span>
						<span class="label" id="closemenu" onclick="safeclosemenu()">X</span>
					</span>

					<!-- NAV -->

					<div class="dropmenu" id="dropmenum">
						<div class="menu-spacer">X</div>

						<!-- EXPANDEDMENU -->

						<div class="info" id="infoe">
							<div class="spacedtitles">
								<a href="https://www.GEFAENGNISHEFTE.org"><span id="descriptioni">ISSUES</span></a>
									<!-- <span class="description" id="showissues" onclick="showissues()">Einblenden</span>
									<span class="description" id="hideissues" onclick="hideissues()">Ausblenden</span> -->
							</div>
							<div id="issue-list">
								<a class="description" id="descriptionisi" href="https://www.GEFAENGNISHEFTE.org/issue-i"><span class="desclarge">ISSUE I</span><span class="descsmall">I</span><span>ALTERNATIVE UTOPIEN</span></a>
								<a class="description" id="descriptionisii" href="https://www.GEFAENGNISHEFTE.org/issue-i"><span class="desclarge">ISSUE II</span><span class="descsmall">II</span><span>REFORM ODER REVOLUTION</span></a>
								<a class="description" id="descriptionisiii" href="https://www.GEFAENGNISHEFTE.org/issue-i"><span class="desclarge">ISSUE III</span><span class="descsmall">III</span><span>IST POPULISMUS GUT?</span></a>
							</div>
							<!-- <div>
								<a href="https://www.GEFAENGNISHEFTE.org/special-issues" class="spacedtitles"><span id="descriptions">SPECIAL&#x2005;ISSUES</span> -->
								<!-- <span class="description desclarge">Projekte von Freund*innen</span> -->
								<!-- </a>
							</div> -->
							<div  class="spacedtitles">
								<a href="https://www.GEFAENGNISHEFTE.org/kanon" class="spacedtitles"><span id="descriptionk">KANON</span>
								<!-- <span class="description desclarge">Sehenswertes</span> -->
								</a>
							</div>
						</div>
						
						<!-- INFO -->
						<div class="menu-inside">
						<!-- <hr class="mid-divider"> -->
						<div class="info" id="infom">
							
							<div id="footer-wrap">
								
								<a href="https://www.paypal.com/paypalme/GEFAENGNISHEFTE" class="desclarge">Unterstützen: paypal.me/GEFAENGNISHEFTE<br></a>
								<a href="https://www.paypal.com/paypalme/GEFAENGNISHEFTE" class="descsmall">Unterstützen<br></a>
								<a href="mailto:GEFAENGNISHEFTE@riseup.net" class="desclarge">Kontaktieren: GEFAENGNISHEFTE@riseup.net<br></a>
								<a href="mailto:GEFAENGNISHEFTE@riseup.net" class="descsmall">Kontaktieren<br></a>
								<a href="https://www.GEFAENGNISHEFTE.org/deabonnieren" id="descriptiond">Deabonnieren<br></a>
								<a href="https://www.GEFAENGNISHEFTE.org/impressum" id="descriptionim">Impressum<br></a>
								<a href="https://www.GEFAENGNISHEFTE.org/datenschutz" id="descriptionda">Datenschutzerklärung<br></a>
								
								<!-- <div id="nachmodus">
									<span onclick="togglenachtmodus()" style="cursor: pointer;">Nachtmodus </span>
								</div> -->
							</div>

	
							<div>
								<form id="abonnieren" class="abo">
									<button type="submit" id="abonnierenbutton">Abonnieren</button>
									<span><input type="email" name="Email" id="aboinput" placeholder="Email" required></span>
									<input type="hidden" name="_subject" value="Abonnement">
									<input type="hidden" name="_captcha" value="true">
									
									<label id="aboinfo" for="abocheckbox"><input type="checkbox" id="abocheckbox" required>   Ich möchte über neue ISSUES benachrichtigt werden. <br><br>Hinweise zum Widerruf und der Verarbeitung deiner Daten geben wir in unserer <a href="https://www.GEFAENGNISHEFTE.org/datenschutz">Datenschutzerklärung</a>. Einen Link zum <a href="https://www.GEFAENGNISHEFTE.org/deabonnieren">Deabonnieren</a> findest du in jeder Mail.</label>
								</form>
							</div>
						</div>
						</div>
						
						<!-- <hr class="bottom-divider"> -->
					</div>
				</div>
			</nav>

		</div>
	</body>
</html>