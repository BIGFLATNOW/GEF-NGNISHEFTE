<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>ISSUES</title>
        <meta name="viewport" content="width=device-width, height=device-height, user-scalable=no">
        <link rel="icon" type="image/x-icon" href="images/internal/faviconred.ico">
        <link rel="stylesheet" href="styles/fonts.css">
        <link rel="stylesheet" href="styles/general.css">
        <link rel="stylesheet" href="styles/red.css">
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <script type="text/javascript">

            // VARIABLES

            var showcurrenttitle = true;
            var placeholder = true;
            var controlsinit = false;
            var autohidecontrols = false;
            var overridetitle = true;
            var overridetitletext = "<span class='overridetitletextLarge'><span lang='de'>ÜBERSICHT</span><span lang='en'>OVERVIEW</span></span><span class='overridetitletextSmall'>#</span>"
            var slideSelected = 0;
            var indexList = [
                            "<span lang='de'>I – ALTERNATIVE UTOPIEN</span><span lang='en'>I – ALTERNATIVE UTOPIAS</span>", 
                            "<span lang='de'>II – REFORM ODER REVOLUTION</span><span lang='en'>II – REFORM OR REVOLUTION</span>"
                            // ,
                            // "<span lang='de'>III – IST POPULISMUS GUT?</span><span lang='en'>III – IS POPULISM A GOOD THING?</span>"
            ];

            var titleList = [
                            "<span lang='de'>ISSUE I<br>ALTERNATIVE UTOPIEN</span><span lang='en'>ISSUE I<br>ALTERNATIVE UTOPIAS</span>", 
                            "<span lang='de'>ISSUE II<br>REFORM ODER REVOLUTION</span><span lang='en'>ISSUE II<br>ALTERNATIVE UTOPIAS</span>"
                            // , 
                            // "<span lang='de'>IST POPULISMUS GUT?</span><span lang='en'>IS POPULISM A GOOD THING?</span>"
            ];

            // LOADING

            var headerloaded, footerloaded, controlsloaded, databannerloaded = false;
            
            $(function(){
                $("#header").load("components/header.html", function() {headerloaded = true; init()});
                $("#controls").load("components/controls.html", function() {controlsloaded = true; init()});
                $("#databanner").load("components/databanner.html", function() {databannerloaded = true; init()});
            });

            function init() {
                if(headerloaded && controlsloaded && databannerloaded){
                    initcontrols();
                    initcookies();
                    initlanguage();
                    initsetabo();
                }
            }
        
        </script>

        <script>

            // COVERSCRIPT

            var textSelected = 0
            var issuetitles = ["title-i", "title-ii", "title-iii"]
            var coverSelected = "cover-i"
            var coverSelectedLoaded = false;


            function selectcover(i) {

                i = i - 1
                console.log("selectcover")
                console.log(controlsloaded)
                console.log(coverSelectedLoaded)
                if(coverSelectedLoaded && controlsloaded) {
                    displayBySlideIndex(i) 
                    document.getElementById(issuetitles[textSelected]).style.fontWeight = "initial";
                    document.getElementById(issuetitles[i]).style.fontWeight = "700";
                    textSelected = i
                }
            }

            document.addEventListener("DOMContentLoaded", (event) => {
                if ('ontouchstart' in window) {

                    $(".title").click(function (e) {
                        e.preventDefault();
                        // e.target.style.color = "white"
                        for (let i = 0; i < issuetitles.length; i++) {
                            document.getElementById(issuetitles[i]).style.color = "white"

                            // var titletext = document.getElementById(issuetitles[i]).childNodes

                            // for (let i = 0; i < titletext.length; i++) {
                            //     titletext[i].style.color = "white"
                            // }
                        }
                    });
                }
            });


        </script>

        <script>

            // LOADING SCRIPT

            document.addEventListener("DOMContentLoaded", (event) => {
                checkload()
                document.getElementById(coverSelected).addEventListener('load', checkload)
            });

            function checkload() {
                if(document.getElementById(coverSelected).complete && controlsinit) {
                    loaded()
                }
                else {
                    setTimeout(checkload, 100)
                }
            }

            function loaded() {
                document.getElementById("laden-wrap").style.display = "none"
                displayBySlideIndex(slideSelected)
                document.getElementById(issuetitles[textSelected]).style.fontWeight = "700";
                coverSelectedLoaded = true;
            }

        </script>

        <style>

            #content {
                display: grid !important;
                grid-template-columns: 1fr auto 1fr !important;
                grid-template-rows: 20px 1fr auto 1fr 1fr 1fr 20px  !important;
                grid-template-areas: 
                    ". . ."
                    ". . ."
                    ". issue-wrap ."
                    ". . ."
                    ". . ."
                    ". . ."
                    ". . ."  !important;
                place-items: center;
            }


            /* WRAPS */

            #issue-wrap {
                grid-area: issue-wrap;
				display: flex;
                /* flex-wrap: wrap; */
				justify-content: center;
				align-items: flex-start;
                gap: 80px;
            }

            #text-wrap {
                min-width:350px;
                max-width:350px;
            }

            #laden-wrap {
                text-align: center;
            }

            #slides > div {
                text-align: center;
                display: none;
                margin-bottom: 0 !important;
            }
            
            #text-wrap > * {
                margin-top: 15px;
                margin-bottom: 15px;
            }

            /* COVERS */
            
            .cover-image {
                box-shadow: 10px 10px 10px 0px rgba(0,0,0,0.35);
                cursor: pointer;
                -webkit-tap-highlight-color: transparent;
                transition: 0.7s;
                max-width: 100%;
                max-height: 100%;
            }

            .cover-image:hover {
                transform: scale(1.02);
            }

            #laden {
                display:inline;
                cursor:wait;
                box-shadow: 10px 10px 10px 0px rgba(0,0,0,0.35);
            }

            .cover {
                min-width:300px;
                max-width:400px;
                -webkit-tap-highlight-color: transparent;
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                -khtml-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
            }

            .slide-cover {
                width: fit-content;
            }

            .title {
                display:flex;
                justify-content: space-between;
                white-space:nowrap;
                flex-wrap: wrap;
                cursor: pointer;
                -webkit-tap-highlight-color: transparent;
            }

            @media screen and (max-width: 1050px) {

                #issue-wrap {
                    gap: 40px;
                }
            }
            
            #controls {
                display:none !important;
            }


            /* REACTIVE */

            #content {
                    height: calc(var(--vh, 1vh) * 100 - 98px) !important;
            }

            @media screen and (max-width: 799px) {
                #controls {
                    display:block !important;
                }

                #text-wrap {
                    display:none;
                }

                #issue-wrap {
                    width: 100%;
                }

                .cover {
                    max-height: 60vh !important;
                }

                #content {
                    display: flex !important;
                    height: calc(var(--vh, 1vh) * 100 - 260px) !important;
                }
            }

            @media screen and (width: 799px) {
                #controls {
                    display:block !important;
                }

                #text-wrap {
                    display:none;
                }

                #issue-wrap {
                    width: 100%;
                }

                .cover {
                    max-height: 60vh !important;
                }

                #content {
                    display: flex !important;
                    height: calc(var(--vh, 1vh) * 100 - 260px) !important;
                }
            }

            /* @media screen and (max-height: 800px) {
                #content {
                    height: calc(var(--vh, 1vh) * 100 - 230px) !important;
                }
            } */

            #slideIndex {
                font-size: 13pt !important;
                text-align: left !important;
            }

            #slideCurrent {
                font-size: 15pt !important;
                width:160px !important;
                padding: 5px 15px 5px 15px !important;
            }

            .controlLabelLarge {
                display: none!important;
            }

            .controlLabelSmall {
                display: inline!important;
            }

            #letztes, #nächstes {
                padding:0px!important;
                font-size: 35pt!important;
                width: 45px !important;
            }


            .overridetitletextSmall {display: none;}
            @media screen and (max-width: 350px) {
                .overridetitletextSmall {display: inline;}
                .overridetitletextLarge {display: none;}
                #slideCurrent {
                    padding:0px!important;
                    font-size: 22pt!important;
                    width: 45px !important;
                }
            }

        </style>
    </head>

    <body>
        
        <div id="header"></div>

        <div id="content">
            <div id="issue-wrap">
                <div id="cover-wrap">
                    <div  class="cover" id="laden-wrap"><span><img id="laden" src="images/internal/din4load.gif"/></span></div>
                    <div id="slides">
                        <div class="slide-cover"><a class="cover" href="https://www.GEFAENGNISHEFTE.org/issue-i"><img class="cover-image" id="cover-i" lang="de" src="images/issues/de/issue-i-cover.jpg" alt="ISSUE I COVER"/><img class="cover-image" id="cover-i" lang="en" src="images/issues/en/issue-i-cover.jpg" alt="ISSUE I COVER"/></a></div>
                        <div class="slide-cover"><a class="cover" href="https://www.GEFAENGNISHEFTE.org/issue-i"><img class="cover-image" id="cover-ii" lang="de" src="images/issues/de/issue-i-cover.jpg" alt="ISSUE II COVER"/><img class="cover-image" id="cover-ii" lang="en" src="images/issues/en/issue-i-cover.jpg" alt="ISSUE II COVER"/></a></div>
                        <!-- <div><a href="https://www.GEFAENGNISHEFTE.org/issue-i"><img class="cover-image" id="cover-iii" lang="de" src="images/issues/de/issue-iii-cover.jpg" alt="ISSUE III COVER"/><img class="cover-image" id="cover-iii" lang="en" src="images/issues/en/issue-iii-cover.jpg" alt="ISSUE III COVER"/></a></div> -->
                    </div>
                </div>
                <div id="text-wrap">
                    <a class="title" id="title-i" onmouseover="selectcover(1)" href="https://www.GEFAENGNISHEFTE.org/issue-i"><span>ISSUE I</span><span lang='de'>ALTERNATIVE UTOPIEN</span><span lang='en'>ALTERNATIVE UTOPIAS</span></a>
                    <hr>
                    <a class="title" id="title-ii" onmouseover="selectcover(2)" href="https://www.GEFAENGNISHEFTE.org/issue-i"><span>ISSUE II</span><span lang='de'>REFORM ODER REVOLUTION</span><span lang='en'>REFORM OR REVOLUTION</span></a>
                    <hr>
                    <!-- <a class="title" id="title-iii" onmouseover="selectcover(3)" href="https://www.GEFAENGNISHEFTE.org/issue-i"><span>ISSUE III</span><span lang='de'>IST POPULISMUS GUT?</span><span lang='en'>IS POPULISM A GOOD THING?</span></a>
                    <hr> -->
                </div>

                
            </div>
            
        </div>
        
        <div id="controls"></div>
        <div id="databanner"></div>
    </body>
</html>